import pytest
from solver import GridTomatoCooker, GridProblem


@pytest.fixture
def graellador_path():
    return "solver/graellador.mzn"


@pytest.fixture
def tomato_cooker(graellador_path):
    return GridTomatoCooker(graellador_path)

@pytest.fixture
def grid_instance():
    return GridProblem(
        nPersones=32,
        nLinies=8,
        nSlots=4,
        nNingus=2,
        nDies=5,
        maxTorns=6,
        nTorns=[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9],
        indisponibilitats=[
            [{1}, {1}, {1}, {1}, {1}],
            [{2}, {2}, {2}, {2}, {2}],
            [{3}, {3}, {3}, {3}, {3}],
            [{4}, {4}, {4}, {4}, {4}],
            [{1}, {2}, {3}, {4}, {1}],
            [{2}, {3}, {4}, {1}, {2}],
            [{3}, {4}, {1}, {2}, {3}],
            [{4}, {1}, {2}, {3}, {4}],
            [{4}, {3}, {2}, {1}, {4}],
            [{2}, {1}, {3}, {4}, {2}],
            [{1}, {2}, {3}, {4}, {1}],
            [{2}, {3}, {4}, {1}, {2}],
            [{3}, {4}, {1}, {2}, {3}],
            [{4}, {1}, {2}, {3}, {4}],
            [{4}, {3}, {2}, {1}, {4}],
            [{2}, {1}, {3}, {4}, {2}],
            [{1}, {1}, {1}, {1}, {1}],
            [{2}, {2}, {2}, {2}, {2}],
            [{3}, {3}, {3}, {3}, {3}],
            [{4}, {4}, {4}, {4}, {4}],
            [{1}, {2}, {3}, {4}, {1}],
            [{2}, {3}, {4}, {1}, {2}],
            [{3}, {4}, {1}, {2}, {3}],
            [{4}, {1}, {2}, {3}, {4}],
            [{4}, {3}, {2}, {1}, {4}],
            [{2}, {1}, {3}, {4}, {2}],
            [{1}, {2}, {3}, {4}, {1}],
            [{2}, {3}, {4}, {1}, {2}],
            [{3}, {4}, {1}, {2}, {3}],
            [{4}, {1}, {2}, {3}, {4}],
            [{4}, {3}, {2}, {1}, {4}],
            [{2}, {1}, {3}, {4}, {2}],
        ]
    )
